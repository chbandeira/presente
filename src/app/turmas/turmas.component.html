<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
  <h4>Cadastro de Turmas</h4>
  <div class="d-flex justify-content-end mb-2 mb-md-0">
    <a class="btn-new" [routerLink]="[ 'cadastro' ]"><i class="fas fa-plus"></i> Nova Turma</a>
  </div>
</div>

<ngx-loading [show]="loading"></ngx-loading>

<div class="d-flex justify-content-center">
  <form class="col-md-7" [formGroup]="searchForm">
    <div class="form-group">
      <label for="descricao">Turma</label>
      <input type="text" class="form-control" formControlName="descricao" id="descricao" placeholder="Filtrar por Turma">
    </div>
    <div class="form-group">
      <label for="serie">Série</label>
      <input type="text" class="form-control" formControlName="serie" id="serie" placeholder="Filtrar por Série">
    </div>
    <div class="form-group">
      <label for="sala">Sala</label>
      <input type="text" class="form-control" formControlName="sala" id="sala" placeholder="Filtrar por Sala">
    </div>
    <div class="form-group">
      <label for="turnoSelect">Turno</label>
      <select class="form-control" formControlName="turno" id="turnoSelect">
        <option></option>
        <option value="0">Matutino</option>
        <option value="1">Vespertino</option>
        <option value="2">Noturno</option>
      </select>
    </div>
    <div class="d-flex justify-content-center m-4">
      <button type="reset" class="btn-clean mr-2"><i class="fas fa-eraser"></i> Limpar</button>
      <button type="submit" (click)="search()" class="btn-search"><i class="fas fa-search"></i> Pesquisar</button>
    </div>
  </form>
</div>

<!-- List -->
<div class="table-responsive" *ngIf="turmasPagResponse | async as paginationResponse">
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Turma</th>
        <th>Série</th>
        <th>Sala</th>
        <th>Turno</th>
        <th>Opções</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let turma of paginationResponse.content">
        <td>{{ turma.descricao }}</td>
        <td>{{ turma.serie }}</td>
        <td>{{ turma.sala }}</td>
        <td>{{ turma.turno | turno }}</td>
        <td>
          <div class="btn-group btn-group-toggle">
            <label class="btn btn-sm btn-outline-warning border-0">
              <a [routerLink]="[ 'cadastro', turma.id ]" class="btn-outline-warning"> <i class="fas fa-folder-open"></i></a>
            </label>
            <label class="btn btn-sm btn-outline-danger border-0">
              <a data-toggle="modal" [attr.data-target]="'#removeModal'+turma.id" class="btn-outline-danger"> <i class="fas fa-trash-alt"></i></a>
            </label>
          </div>
        </td>
        
        <app-modal-exclusion [id]="turma.id" (eventModal)="onDelete($event)"></app-modal-exclusion>
      </tr>
    </tbody>
  </table>

  <app-pagination [paginationResponse]="paginationResponse" (eventPage)="onPage($event)"></app-pagination>
</div>